[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Robin Penfold",
    "section": "",
    "text": "Welcome To My Blog\n\n\n\n\n\n\n\nnews\n\n\n\n\n\n\n\n\n\n\n\nDec 30, 2022\n\n\nTristan O’Malley\n\n\n\n\n\n\n  \n\n\n\n\nWho bats best?\n\n\n\n\n\n\n\nanimation\n\n\nsport\n\n\n\n\nCricket commentators often talk of changes in batting quality through the ages. Or they say that batting order matters to averages (or vice-versa). But is there anything in these questions?\n\n\n\n\n\n\nOct 9, 2016\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/post-with-code/index.html",
    "href": "posts/post-with-code/index.html",
    "title": "Who bats best?",
    "section": "",
    "text": "Let’s start with the data."
  },
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "Welcome To My Blog",
    "section": "",
    "text": "This is the first post in a Quarto blog. Welcome!\n\nSince this post doesn’t specify an explicit image, the first image in the post will be used in the listing page of posts."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "posts/post-with-code/index.html#data",
    "href": "posts/post-with-code/index.html#data",
    "title": "Who bats best?",
    "section": "Data",
    "text": "Data\nA couple of years ago, I downloaded the top 200 averages for each batting order from the wonderful stats engine at espnCricinfo. I then excluded averages from players with fewer than twenty innings. I also only considered results against Australia, England, India, New Zealand, Pakistan, South Africa, Sri Lanka and the West Indies.\nHaving done so, I now tidy this data below and show its first six rows, for reference.\n\nsuppressMessages(library(tidyverse))\nlibrary(gganimate)\nlibrary(ggiraph)\nlibrary(glue)\nlibrary(htmlwidgets)\ntheme_set(theme_bw())\n  \nbatOrder <- read_csv(\"BattingOrder.csv\") |>  \n  mutate(\n    Name = word(Player, start = 1L, end = -2L),\n    fullCountry = word(Player, -1),\n    Country = str_sub(fullCountry, 2,-2)) %>% \n  filter(\n    Country %in% c(\"Aus\", \"Ban\", \"Eng\", \"India\", \"NZ\", \"Pak\", \"SA\", \"SL\", \"WI\")\n    ) |> \n  mutate(\n    Start = as.integer(str_sub(Span, 1, 4)),\n    Decade = 10*trunc(Start/10),\n    Name = str_replace_all(Name, \"'\", \" \") \n    ) |> \n  select(Name, Country, Start, Decade, Ave, Innings = Inns, Runs, Bat)\n\nglimpse(batOrder, width = 70)\n\nRows: 873\nColumns: 8\n$ Name    <chr> \"B Mitchell\", \"JB Hobbs\", \"RB Simpson\", \"L Hutton\", …\n$ Country <chr> \"SA\", \"Eng\", \"Aus\", \"Eng\", \"India\", \"Eng\", \"Eng\", \"S…\n$ Start   <int> 1931, 1908, 1961, 1938, 2002, 1924, 1986, 1996, 1948…\n$ Decade  <dbl> 1930, 1900, 1960, 1930, 2000, 1920, 1980, 1990, 1940…\n$ Ave     <dbl> 65.04, 58.14, 58.03, 57.74, 55.19, 54.38, 53.84, 52.…\n$ Innings <dbl> 26, 87, 28, 120, 21, 20, 21, 41, 23, 90, 105, 74, 35…\n$ Runs    <dbl> 1431, 4768, 1567, 6236, 1159, 979, 1023, 2002, 1106,…\n$ Bat     <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…"
  },
  {
    "objectID": "posts/post-with-code/index.html#charts",
    "href": "posts/post-with-code/index.html#charts",
    "title": "Who bats best?",
    "section": "Charts",
    "text": "Charts\nI then create the animation, using the splendid gganimate.\n\nbatOrder |> \n  ggplot(\n    aes(\n      x = Decade,\n      y = Ave,\n      color = Country, \n      size = Innings\n      )\n    ) +\n  geom_point(alpha = 1) +\n  labs(\n    x = \"Last decade of the batsman's career\",\n    y = \"\"\n    ) +\n  ggtitle(\n    'The 200 best players who have ever batted at {closest_state} in the order',\n    subtitle = 'Average when batting at that position'\n    ) + \n  transition_states(\n    states = Bat,\n    transition_length = 2,\n    state_length = 1\n    ) + \n  ease_aes('cubic-in-out')"
  },
  {
    "objectID": "posts/batting/index.html",
    "href": "posts/batting/index.html",
    "title": "Who bats best?",
    "section": "",
    "text": "A couple of years ago, I downloaded the top 200 averages for each batting order from the wonderful stats engine at espnCricinfo, before:\n\nIgnoring averages from players with fewer than twenty innings\nConsidering only results against Australia, England, India, New Zealand, Pakistan, South Africa, Sri Lanka and the West Indies\n\nFor reference, here are the first six rows of the resulting data.\n\nlibrary(tidyverse)\nlibrary(gganimate)\nlibrary(glue)\n  \nbatOrder <- read_csv(\"BattingOrder.csv\") |>  \n  mutate(\n    Name = word(Player, start = 1L, end = -2L),\n    fullCountry = word(Player, -1),\n    Country = str_sub(fullCountry, 2,-2)) %>% \n  filter(\n    Country %in% c(\"Aus\", \"Ban\", \"Eng\", \"India\", \"NZ\", \"Pak\", \"SA\", \"SL\", \"WI\")\n    ) |> \n  mutate(\n    Start = as.integer(str_sub(Span, 1, 4)),\n    Decade = 10*trunc(Start/10),\n    Name = str_replace_all(Name, \"'\", \" \") \n    ) |> \n  select(Name, Country, Start, Decade, Ave, Innings = Inns, Runs, Bat)\n\nglimpse(batOrder, width = 70)\n\nRows: 873\nColumns: 8\n$ Name    <chr> \"B Mitchell\", \"JB Hobbs\", \"RB Simpson\", \"L Hutton\", …\n$ Country <chr> \"SA\", \"Eng\", \"Aus\", \"Eng\", \"India\", \"Eng\", \"Eng\", \"S…\n$ Start   <int> 1931, 1908, 1961, 1938, 2002, 1924, 1986, 1996, 1948…\n$ Decade  <dbl> 1930, 1900, 1960, 1930, 2000, 1920, 1980, 1990, 1940…\n$ Ave     <dbl> 65.04, 58.14, 58.03, 57.74, 55.19, 54.38, 53.84, 52.…\n$ Innings <dbl> 26, 87, 28, 120, 21, 20, 21, 41, 23, 90, 105, 74, 35…\n$ Runs    <dbl> 1431, 4768, 1567, 6236, 1159, 979, 1023, 2002, 1106,…\n$ Bat     <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n\n\n\nWe can then analyse the data by batting order, using the splendid gganimate.\n\nbatOrder |> \n  ggplot(\n    aes(\n      x = Decade,\n      y = Ave,\n      color = Country, \n      size = Innings\n      )\n    ) +\n  geom_point(alpha = 1) +\n  labs(\n    x = \"Last decade of the batsman's career\",\n    y = \"\"\n    ) +\n  ggtitle(\n    'The best players who have ever batted at {closest_state} in the order',\n    subtitle = 'Average when batting at that position'\n    ) + \n  transition_states(\n    states = Bat,\n    transition_length = 2,\n    state_length = 1\n    ) + \n  ease_aes('cubic-in-out')"
  },
  {
    "objectID": "posts/batting/index.html#data",
    "href": "posts/batting/index.html#data",
    "title": "Who bats best?",
    "section": "Data",
    "text": "Data\nA couple of years ago, I downloaded the top 200 averages for each batting order from the wonderful stats engine at espnCricinfo. I then excluded averages from players with fewer than twenty innings. I also only considered results against Australia, England, India, New Zealand, Pakistan, South Africa, Sri Lanka and the West Indies.\nHaving done so, I now tidy this data below and show its first six rows, for reference.\n\nsuppressMessages(library(tidyverse))\nlibrary(gganimate)\nlibrary(ggiraph)\nlibrary(glue)\nlibrary(htmlwidgets)\ntheme_set(theme_bw())\n  \nbatOrder <- read_csv(\"BattingOrder.csv\") |>  \n  mutate(\n    Name = word(Player, start = 1L, end = -2L),\n    fullCountry = word(Player, -1),\n    Country = str_sub(fullCountry, 2,-2)) %>% \n  filter(\n    Country %in% c(\"Aus\", \"Ban\", \"Eng\", \"India\", \"NZ\", \"Pak\", \"SA\", \"SL\", \"WI\")\n    ) |> \n  mutate(\n    Start = as.integer(str_sub(Span, 1, 4)),\n    Decade = 10*trunc(Start/10),\n    Name = str_replace_all(Name, \"'\", \" \") \n    ) |> \n  select(Name, Country, Start, Decade, Ave, Innings = Inns, Runs, Bat)\n\nglimpse(batOrder, width = 70)\n\nRows: 873\nColumns: 8\n$ Name    <chr> \"B Mitchell\", \"JB Hobbs\", \"RB Simpson\", \"L Hutton\", …\n$ Country <chr> \"SA\", \"Eng\", \"Aus\", \"Eng\", \"India\", \"Eng\", \"Eng\", \"S…\n$ Start   <int> 1931, 1908, 1961, 1938, 2002, 1924, 1986, 1996, 1948…\n$ Decade  <dbl> 1930, 1900, 1960, 1930, 2000, 1920, 1980, 1990, 1940…\n$ Ave     <dbl> 65.04, 58.14, 58.03, 57.74, 55.19, 54.38, 53.84, 52.…\n$ Innings <dbl> 26, 87, 28, 120, 21, 20, 21, 41, 23, 90, 105, 74, 35…\n$ Runs    <dbl> 1431, 4768, 1567, 6236, 1159, 979, 1023, 2002, 1106,…\n$ Bat     <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…"
  },
  {
    "objectID": "posts/batting/index.html#charts",
    "href": "posts/batting/index.html#charts",
    "title": "Who bats best?",
    "section": "Charts",
    "text": "Charts\nI then create the animation, using the splendid gganimate.\n\nbatOrder |> \n  ggplot(\n    aes(\n      x = Decade,\n      y = Ave,\n      color = Country, \n      size = Innings\n      )\n    ) +\n  geom_point(alpha = 1) +\n  labs(\n    x = \"Last decade of the batsman's career\",\n    y = \"\"\n    ) +\n  ggtitle(\n    'The 200 best players who have ever batted at {closest_state} in the order',\n    subtitle = 'Average when batting at that position'\n    ) + \n  transition_states(\n    states = Bat,\n    transition_length = 2,\n    state_length = 1\n    ) + \n  ease_aes('cubic-in-out')"
  }
]